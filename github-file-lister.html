<!DOCTYPE html>
<html lang="en">
<head>
    <title>GitHub Pages HTML File Lister</title>
    <meta name="description" content="A simple web tool to help you find and list indexed HTML files on any GitHub Pages URL, such as example.github.io.">
    <meta name="keywords" content="GitHub Pages, HTML, file lister, web tool, website, example.github.io">
    <meta name="author" content="Suyash Dwivedi">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="GitHub Pages HTML File Lister">
    <meta property="og:description" content="A simple web tool to help you find and list indexed HTML files on any GitHub Pages URL, such as example.github.io.">
    <meta property="og:url" content="https://suyashdwivedi.github.io/github-file-lister.html">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="GitHub Pages HTML File Lister">
    <meta name="twitter:description" content="A simple web tool to help you find and list indexed HTML files on any GitHub Pages URL, such as example.github.io.">
    <meta name="twitter:url" content="https://suyashdwivedi.github.io/github-file-lister.html">
    <link rel="canonical" href="https://suyashdwivedi.github.io/github-file-lister.html">
    <link rel="icon" href="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Wiki%27s_Lazy_Coders.png/250px-Wiki%27s_Lazy_Coders.png">
    <style>
        body { font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f0f0f0; color: #333; transition: background-color 0.3s, color 0.3s; }
        body.night-mode { background-color: #121212; color: #e0e0e0; }
        .container { max-width: 900px; margin: 20px auto; padding: 20px; background-color: #fff; border-radius: 8px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); }
        .container.night-mode { background-color: #1e1e1e; box-shadow: 0 0 10px rgba(255, 255, 255, 0.1); }
        header { display: flex; align-items: center; border-bottom: 2px solid #ddd; padding-bottom: 10px; margin-bottom: 20px; }
        .night-mode header { border-bottom-color: #444; }
        header img { width: 75px; margin-right: 15px; border-radius: 50%; }
        header h1 { margin: 0; font-size: 2.2em; }
        .tool-section { display: flex; flex-direction: column; align-items: center; text-align: center; }
        .tool-section h2 { margin-bottom: 10px; font-size: 1.6em; }
        .input-group { display: flex; width: 100%; max-width: 600px; margin-bottom: 15px; }
        .input-group input { flex-grow: 1; padding: 10px; font-size: 1em; border: 1px solid #ccc; border-radius: 4px; }
        .input-group button { padding: 10px 15px; font-size: 1em; border: none; background-color: #0366d6; color: white; border-radius: 4px; cursor: pointer; transition: background-color 0.2s; }
        .input-group button:hover { background-color: #0056a0; }
        .results-section { margin-top: 20px; padding: 15px; background-color: #f9f9f9; border-radius: 4px; border: 1px solid #eee; text-align: left; }
        .results-section.night-mode { background-color: #2a2a2a; border-color: #333; }
        .results-section ul { padding-left: 20px; }
        .results-section li { margin: 6px 0; }
        .night-mode-button { position: absolute; top: 10px; right: 10px; padding: 8px 12px; background-color: #333; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 0.9em; }
        footer { margin-top: 20px; padding-top: 10px; border-top: 1px solid #ddd; text-align: center; font-size: 0.9em; color: #777; }
        .night-mode footer { border-top-color: #444; color: #aaa; }
        footer a { color: #0366d6; text-decoration: none; }
        footer a:hover { text-decoration: underline; }
    </style>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GC8PGC89NB"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GC8PGC89NB');
    </script>
    <script src="https://cdn.counter.dev/script.js"
        data-id="cc7a036d-a904-4d76-bcac-37ea4196c014"
        data-utcoffset="6">
    </script>
</head>
<body>
    <button id="nightModeBtn" class="night-mode-button">üåô Night Mode</button>
    <div class="container" id="main-container">
        <header>
            <img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Wiki_s_Lazy_Coders_logo_small_transparent.png" alt="Wiki's Lazy Coders Logo">
            <h1>GitHub Pages File Lister</h1>
        </header>

        <section class="tool-section">
            <h2>Find HTML Files on a GitHub Pages Site</h2>
            <p>Enter a GitHub Pages URL below (e.g., <code>https://example.github.io/</code>) to find its public HTML files.</p>
            <div class="input-group">
                <input type="text" id="urlInput" placeholder="Enter full URL here..." value="https://example.github.io/">
                <button onclick="listFiles()">Search</button>
            </div>
            <div class="results-section" id="results">
                <h3>Results will appear here üëá</h3>
                <ul id="fileList"></ul>
            </div>
        </section>

        <footer>
            <a href="https://meta.wikimedia.org/wiki/User:Suyash.dwivedi">Created by Suyash Dwivedi | Updated on: 1 September 2025</a>
        </footer>
    </div>

    <script>
        async function fetchFiles(repo, path = '') {
            try {
                const response = await fetch(`https://api.github.com/repos/${repo}/contents/${path}`);
                if (!response.ok) return [];
                const data = await response.json();
                let files = [];
                for (let item of data) {
                    if (item.type === 'file' && item.name.endsWith('.html')) {
                        files.push(path + item.name);
                    } else if (item.type === 'dir') {
                        files = files.concat(await fetchFiles(repo, path + item.name + '/'));
                    }
                }
                return files;
            } catch (e) {
                console.error(e);
                return [];
            }
        }

        async function listFiles() {
            const url = document.getElementById('urlInput').value.trim();
            const fileList = document.getElementById('fileList');
            fileList.innerHTML = '<li>üîÑ Loading...</li>';

            if (!url.includes('github.io')) {
                fileList.innerHTML = '<li>‚ùå Please enter a valid github.io URL.</li>';
                return;
            }

            try {
                const parts = new URL(url);
                const owner = parts.hostname.split('.')[0];
                const pathParts = parts.pathname.split('/').filter(Boolean);

                let repoFull;
                if (pathParts.length === 0) {
                    repoFull = `${owner}/${owner}.github.io`;
                } else {
                    repoFull = `${owner}/${pathParts[0]}`;
                }

                const htmlFiles = await fetchFiles(repoFull);
                fileList.innerHTML = '';

                if (htmlFiles.length === 0) {
                    fileList.innerHTML = '<li>‚ö†Ô∏è No HTML files found in the repository.</li>';
                    return;
                }

                htmlFiles.forEach(file => {
                    const li = document.createElement('li');
                    const a = document.createElement('a');
                    let newUrl;
                    if (pathParts.length === 0) {
                        newUrl = `https://${owner}.github.io/${file}`;
                    } else {
                        newUrl = `https://${owner}.github.io/${pathParts[0]}/${file}`;
                    }
                    a.href = newUrl;
                    a.textContent = newUrl;
                    li.appendChild(a);
                    fileList.appendChild(li);
                });
                
                // Play alert sound after listing is complete
                const audio = new Audio('https://suyashdwivedi.github.io/alert.mp3');
                audio.play().catch(e => console.error("Audio playback failed:", e));

            } catch (e) {
                fileList.innerHTML = '<li>An error occurred. Please check the URL and try again.</li>';
            }
        }

        // Night Mode Toggle
        const nightModeBtn = document.getElementById('nightModeBtn');
        const body = document.body;
        const container = document.getElementById('main-container');
        const results = document.getElementById('results');

        nightModeBtn.addEventListener('click', () => {
            body.classList.toggle('night-mode');
            container.classList.toggle('night-mode');
            results.classList.toggle('night-mode');
            nightModeBtn.textContent = body.classList.contains('night-mode') ? '‚òÄÔ∏è Day Mode' : 'üåô Night Mode';
        });
    </script>
</body>
</html>